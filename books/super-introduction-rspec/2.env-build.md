---
title: "環境構築"
---
## 1. イベント用リポジトリをクローンする
ターミナルを開き、クローンしたいディレクトリにカレントディレクトリを移動して、以下のコマンドを実行してください。
```
git clone git@github.com:m-porun/rspec_study.git
ls
```
`rspec_study`というディレクトリがあればクローン成功です。

実行例
```
$ mkdir events      # eventsディレクトリ作成
$ cd events         # 作成したeventsディレクトリに移動
$ git clone git@github.com:m-porun/rspec_study.git
Cloning into 'rspec_study'...
remote: Enumerating objects: 243, done.
remote: Counting objects: 100% (243/243), done.
remote: Compressing objects: 100% (171/171), done.
remote: Total 243 (delta 61), reused 225 (delta 46), pack-reused 0 (from 0)
Receiving objects: 100% (243/243), 87.15 KiB | 263.00 KiB/s, done.
Resolving deltas: 100% (61/61), done.
$ ls
rspec_study

```
:::details クローンが失敗してしまった場合
以下のURLを開き、リポジトリをクローンしてください。
 https://github.com/m-porun/rspec_study
![Codeボタン選択](/images/super-introduction-rspec/b5953db609dd0505cef52b5320471c3c.png)
コピーしたSSHを`git clone`の後に貼り付けて実行してください
```
git clone ここに貼り付け
:::
## 2. docker環境構築
**🐳Docker Desktop**を立ち上げた状態で、以下のコマンドを順番に実行してください
※別のコンテナが立ち上がったままだと失敗してしまうので、全てのコンテナを終了してから実行してください。
```
cd rspec_study
docker compose build --no-cache
docker compose run --rm web gem install rails
docker compose up -d
```
## 3. DB環境構築
テストを実行するために使用するデータベースを構築します。以下のコマンドを実行してください。
```
docker compose exec web rails db:create
docker compose exec web rails db:migrate
docker compose cp db/seeds.rb web:/rails/db/seeds.rb
docker compose exec web rails db:seed
```
## 4. Tailwindcssのインストール
Tailwindcssを反映させるため、以下のコマンドを実行してください。
```
docker compose run --rm web rails javascript:install:esbuild
docker compose run --rm web rails css:install:tailwind
docker compose down
docker compose build --no-cache
docker compose up -d
```
## 5. ブラウザにて動作確認
以下のURLにアクセスし、本の一覧が表示されるか確認する。
http://localhost:3000/books
### 正常表示
![本一覧画面](/images/super-introduction-rspec/e32b522da633323c55a8355d98f9ac2e.gif)
## RSpecが使えるか確認
rspecを実行し、テストが実施されるか確認
```
docker compose exec web bash -c "RAILS_ENV=test bundle exec rspec"
```
- - -
![spec実行1](/images/super-introduction-rspec/c031d2c67158f2036bb9933d14cae8d9.png)
![spec実行2](/images/super-introduction-rspec/e825ed164afca5bfb2cf177e7532d10c.png)

テストエラーが出ず、上記の表示がされていたら成功です。
※ **pending**(黄色マーク)はテストをスキップしている状態ですので、現状発生しても問題ありません。
