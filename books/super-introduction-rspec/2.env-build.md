---
title: "環境構築"
---
## 今回使用するリポジトリ
https://github.com/m-porun/rspec_study
## 1. イベント用リポジトリをクローンする
ターミナルを開き、クローンしたいディレクトリに移動して、以下のコマンドを実行してください。
```
git clone git@github.com:m-porun/rspec_study.git
ls
```
##### 実行例
![実行例](/images/super-introduction-rspec/3feb613b7d43ddd77c400e85b28744b0.png)
*実行例では`events`ディレクトリに`git clone`を実行し、
`rspec_study`をクローンしています。*
`ls`を実行し、`rspec_study`というディレクトリがあればクローン成功です。
:::details クローンが失敗してしまった場合
以下のURLを開き、リポジトリをクローンしてください。
 https://github.com/m-porun/rspec_study
![Codeボタン選択](/images/super-introduction-rspec/b5953db609dd0505cef52b5320471c3c.png)
コピーしたSSHを`git clone`の後に貼り付けて実行してください
```
git clone ここに貼り付け
:::
## 2. docker環境構築
**🐳Docker Desktop**を立ち上げた状態で、以下のコマンドを順番に実行してください。
※別のコンテナが立ち上がったままだと失敗してしまうので、全てのコンテナを終了してから実行してください。
```
cd rspec_study
docker compose build --no-cache
docker compose run --rm web gem install rails
docker compose up -d
```
## 3. テスト用データ作成(seed)
テストを実行するために使用するデータを作成します。以下のコマンドを実行してください。
```
docker compose cp db/seeds.rb web:/rails/db/seeds.rb
docker compose exec web rails db:seed
```
## 4. ブラウザにて動作確認
以下のURLにアクセスし、本の一覧が表示されるか確認してみましょう！
http://localhost:3000/books
### 正常表示
![本一覧画面](/images/super-introduction-rspec/e32b522da633323c55a8355d98f9ac2e.gif)
## RSpecが使えるか確認
rspecを実行し、システムテストが実施されるか確認します。
```
docker compose exec web bash -c "RAILS_ENV=test bundle exec rspec"
```
- - -
![spec実行1](/images/super-introduction-rspec/c031d2c67158f2036bb9933d14cae8d9.png)
![spec実行2](/images/super-introduction-rspec/e825ed164afca5bfb2cf177e7532d10c.png)

テストエラーが出ず、上記の表示がされていたら成功です。
※ **pending**(黄色マーク)はテストをスキップしている状態ですので、現状発生していても問題ありません。
